<!doctype html>
<html lang="ru">
<head>
  <!-- Base -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>Тихая Память — современная организация церемонии</title>
  <meta name="description" content="Современный агрегатор ритуальных услуг: спокойная эстетика, прозрачные условия, продуманный конструктор услуг и поддержка 24/7.">
  <meta name="theme-color" content="#EFE8E2">
  <link rel="preload" as="image" href="https://images.unsplash.com/photo-1600431521340-491eca880813?q=80&w=900&auto=format&fit=crop" imagesrcset="https://images.unsplash.com/photo-1600431521340-491eca880813?q=80&w=600&auto=format&fit=crop 600w, https://images.unsplash.com/photo-1600431521340-491eca880813?q=80&w=900&auto=format&fit=crop 900w" imagesizes="(max-width: 960px) 100vw, 520px">

  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:locale" content="ru_RU">
  <meta property="og:title" content="Тихая Память — современная организация церемонии">
  <meta property="og:description" content="Агрегатор ритуальных услуг с прозрачным выбором и уважительной подачей.">
  <meta property="og:image" content="https://images.unsplash.com/photo-1600431521340-491eca880813?q=80&w=1200&auto=format&fit=crop">

  <style>
    /* === Roadmap / Timeline === */
.timeline {
  display: grid;
  grid-template-columns: 1fr 4px 1fr; /* левая колонка — линия — правая колонка */
  gap: 18px 28px;
  position: relative;
}
.timeline__line {
  grid-column: 2 / 3;
  background: linear-gradient(to bottom, rgba(62,38,54,.12), rgba(62,38,54,.12));
  border-radius: 2px;
}
.timeline__item {
  display: grid;
  grid-template-columns: 56px 1fr;
  gap: 12px;
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 16px;
  box-shadow: var(--shadow);
  padding: 16px;
  align-items: start;
}
.timeline__item:nth-child(odd) { grid-column: 1 / 2; }    /* левая сторона */
.timeline__item:nth-child(even){ grid-column: 3 / 4; }    /* правая сторона */

.timeline__icon {
  width: 56px; height: 56px; border-radius: 50%;
  background: rgba(199,157,98,.12); /* medium-gold с прозрачностью */
  display: grid; place-items: center;
  border: 1px solid var(--border);
}
.timeline__icon svg { width: 26px; height: 26px; fill: none; stroke: var(--accent); stroke-width: 1.8; }

.timeline__title { margin: 0 0 6px; font-weight: 700; color: var(--accent); }
.timeline__meta { margin: 6px 0 0; color: var(--dusty-mauve); font-size: 13px; }

@media (max-width: 960px){
  .timeline { grid-template-columns: 4px 1fr; }
  .timeline__line { grid-column: 1 / 2; grid-row: 1 / -1; }
  .timeline__item { grid-column: 2 / 3; }
}

[data-animate].timeline__item { opacity: 0; transform: translateY(10px); transition: opacity .6s ease, transform .6s ease; }
.reveal.timeline__item { opacity: 1; transform: none; }

    /* ================= THEME (ваша палитра) ================= */
    :root{
      --fig-purple:#5C3A4C;
      --olive-sage:#7C8C6A;
      --dusty-mauve:#A17D84;
      --warm-beige:#CBB7A2;
      --terracotta-clay:#9C5B4C;
      --deep-plum:#3E2636;
      --soft-cream:#EFE8E2;
      --medium-gold:#C79D62;

      --bg:var(--soft-cream);
      --text:var(--deep-plum);
      --accent:var(--fig-purple);
      --accent-2:var(--medium-gold);
      --card:rgba(255,255,255,.92);
      --border:rgba(62,38,54,.12);
      --shadow:0 10px 28px rgba(62,38,54,.08);

      --radius:16px;
      --space:72px;
      --focus:2px solid var(--medium-gold);
    }

    /* ================ BASE / RESET ================ */
    *,*::before,*::after{box-sizing:border-box}
    html,body{margin:0;padding:0}
    html{scroll-behavior:smooth}
    body{
      font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, Ubuntu, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
      color:var(--text); background:var(--bg); line-height:1.6; -webkit-tap-highlight-color:transparent;
    }
    img{max-width:100%; height:auto; display:block}
    a{color:var(--accent); text-decoration:none}
    a:hover{color:var(--accent-2)}
    a:focus-visible, button:focus-visible, [role="button"]:focus-visible{outline:var(--focus); outline-offset:3px}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

    /* ================ LAYOUT ================ */
    .container{max-width:1120px;margin-inline:auto;padding-inline:20px}
    section{padding-block:var(--space)}
    @media (max-width:960px){ :root{ --space:56px } .container{padding-inline:16px} }

    /* Header + Nav */
    header{
      position:sticky; top:0; z-index:50;
      background:rgba(239,232,226,.9); backdrop-filter:blur(8px);
      border-bottom:1px solid var(--border); padding-top:env(safe-area-inset-top);
    }
    .nav{display:flex;align-items:center;justify-content:space-between;padding-block:14px}
    .nav__logo{font-weight:700;font-size:18px;letter-spacing:.3px;color:var(--accent)}
    .nav__menu{display:flex;gap:24px;align-items:center}
    .nav__menu a{color:var(--text)}
    .nav__toggle{
      display:none; gap:4px; background:transparent; border:1px solid var(--border);
      padding:10px 12px; border-radius:12px; cursor:pointer
    }
    .nav__toggle span{display:block;width:20px;height:2px;background:var(--accent)}
    @media (max-width:768px){
      .nav__toggle{display:flex}
      .nav__menu{
        position:fixed; inset:64px 16px auto 16px; display:none; flex-direction:column; gap:8px;
        background:var(--card); border:1px solid var(--border); border-radius:16px; box-shadow:var(--shadow); padding:12px; z-index:40
      }
      .nav__menu a{padding:12px 10px; border-radius:10px; background:rgba(255,255,255,.7)}
      .nav__menu.is-open{display:flex}
    }

    /* Buttons */
    .btn{
      appearance:none; border:none; cursor:pointer;
      background:var(--olive-sage); color:var(--soft-cream);
      border-radius:12px; padding:14px 20px; font-weight:600;
      transition:background .2s ease, transform .1s ease, box-shadow .2s ease;
      box-shadow:var(--shadow)
    }
    .btn:hover{background:var(--medium-gold); transform:translateY(-1px)}
    .btn--outline{background:transparent; color:var(--olive-sage); border:1px solid var(--olive-sage); box-shadow:none}
    .btn--outline:hover{background:var(--medium-gold); color:var(--soft-cream); border-color:var(--medium-gold)}
    a, button{min-height:44px}

    /* Hero */
    .hero{display:grid;grid-template-columns:1.1fr .9fr;gap:32px;align-items:center;padding-block:calc(var(--space) - 24px)}
    .hero__title{margin:0 0 12px;font-size:38px;line-height:1.2;color:var(--accent)}
    .hero__text{margin:0 0 22px}
    .hero__cta{display:flex;gap:12px;flex-wrap:wrap}
    @media (max-width:960px){ .hero{grid-template-columns:1fr; text-align:center} .hero__cta .btn{width:100%} .hero__title{font-size:28px} }

    /* Cards / Grids */
    h2{margin:0 0 12px; font-size:28px; color:var(--accent)}
    .sub{color:var(--dusty-mauve); margin:0 0 18px}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:22px}
    .card{background:var(--card); border:1px solid var(--border); border-radius:var(--radius); box-shadow:var(--shadow); padding:22px; backdrop-filter:blur(4px)}
    .card h3{margin:0 0 8px; color:var(--accent-2)}
    .list{list-style:none; margin:12px 0 0; padding:0}
    .list li{margin:0 0 8px}

    /* Gallery */
    .gallery{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
    .gallery figure{margin:0; background:var(--card); border:1px solid var(--border); border-radius:16px; overflow:hidden; box-shadow:var(--shadow)}
    .gallery img{width:100%; height:220px; object-fit:cover}
    .gallery figcaption{padding:10px 12px; color:var(--dusty-mauve); font-size:14px; text-align:center}
    @media (max-width:960px){ .gallery{grid-template-columns:1fr} }

    /* Contact */
    .contact{display:grid;grid-template-columns:1fr 1fr; gap:24px}
    form{display:grid; gap:14px}
    label{display:grid; gap:6px}
    input,select,textarea{
      width:100%; padding:14px; font:inherit;
      border:1px solid var(--border); border-radius:12px; background:rgba(255,255,255,.86)
    }
    textarea{min-height:110px}
    .map{width:100%; height:260px; border-radius:16px; border:1px solid var(--border); background:repeating-linear-gradient(45deg,#ede7e1,#efe8e2 12px)}
    @media (max-width:960px){ .contact{grid-template-columns:1fr} }

    /* Builder */
    .builder{display:grid;grid-template-columns:1fr 1fr; gap:22px}
    .builder__panel{background:var(--card); border:1px solid var(--border); border-radius:var(--radius); box-shadow:var(--shadow); padding:20px}
    .svc{display:flex; justify-content:space-between; align-items:center; gap:10px; padding:10px 12px; border:1px solid var(--border); border-radius:12px; background:rgba(255,255,255,.86)}
    .svc small{color:#666}
    .svc--lock{background:rgba(239,232,226,.8); border-style:dashed}
    .svc__btn{padding:8px 10px; border-radius:10px; border:1px solid var(--olive-sage); background:transparent; color:var(--olive-sage); cursor:pointer}
    .svc__btn:hover{transform:translateY(-1px); border-color:var(--medium-gold); color:var(--medium-gold)}
    .builder__total{display:flex; justify-content:space-between; align-items:center; margin-top:12px; padding-top:12px; border-top:1px solid var(--border); font-weight:700}
    .builder__actions{display:flex; gap:10px; flex-wrap:wrap}
    @media (max-width:960px){ .builder{grid-template-columns:1fr} }

    /* Mobile sticky bar (total) */
    .sticky-total{
      position:fixed; left:0; right:0; bottom:0; z-index:60;
      display:none; align-items:center; justify-content:space-between; gap:12px;
      background:rgba(255,255,255,.95); backdrop-filter:blur(6px); border-top:1px solid var(--border);
      padding:10px 16px;
    }
    .sticky-total__sum{font-weight:700}
    @media (max-width:960px){ .sticky-total{display:flex} }

    /* Footer */
    footer{padding:32px 0; text-align:center; color:var(--dusty-mauve); border-top:1px solid var(--border); font-size:14px}

    /* Motion */
    [data-animate]{opacity:0; transform:translateY(10px); transition:opacity .6s ease, transform .6s ease}
    .reveal{opacity:1; transform:none}
    @media (prefers-reduced-motion:reduce){ [data-animate]{opacity:1; transform:none} .btn, .svc__btn{transition:none} }
    /* === Roadmap / Timeline === */
.timeline {
  display: grid;
  grid-template-columns: 1fr 4px 1fr;
  gap: 18px 28px;
  position: relative;
}
.timeline__line {
  grid-column: 2 / 3;
  background: linear-gradient(to bottom, rgba(62,38,54,.12), rgba(62,38,54,.12));
  border-radius: 2px;
}
.timeline__item {
  display: grid;
  grid-template-columns: 56px 1fr;
  gap: 12px;
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 16px;
  box-shadow: var(--shadow);
  padding: 16px;
  align-items: start;
}
.timeline__item:nth-child(odd) { grid-column: 1 / 2; }
.timeline__item:nth-child(even){ grid-column: 3 / 4; }
.timeline__icon {
  width: 56px; height: 56px; border-radius: 50%;
  background: rgba(199,157,98,.12);
  display: grid; place-items: center;
  border: 1px solid var(--border);
}
.timeline__icon svg { width: 26px; height: 26px; fill: none; stroke: var(--accent); stroke-width: 1.8; }
.timeline__title { margin: 0 0 6px; font-weight: 700; color: var(--accent); }
.timeline__meta { margin: 6px 0 0; color: var(--dusty-mauve); font-size: 13px; }

@media (max-width: 960px){
  .timeline { grid-template-columns: 4px 1fr; }
  .timeline__line { grid-column: 1 / 2; grid-row: 1 / -1; }
  .timeline__item { grid-column: 2 / 3; }
}
[data-animate].timeline__item { opacity: 0; transform: translateY(10px); transition: opacity .6s ease, transform .6s ease; }
.reveal.timeline__item { opacity: 1; transform: none; }

  </style>

  <!-- Schema.org -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Organization",
    "name":"Тихая Память",
    "url":"",
    "description":"Современный агрегатор ритуальных услуг.",
    "contactPoint":{"@type":"ContactPoint","telephone":"+7-800-000-00-00","contactType":"customer service","areaServed":"RU"}
  }
  </script>
</head>
<body>
  <a href="#main" class="sr-only">Перейти к основному содержимому</a>

  <header role="banner">
    <div class="container">
      <nav class="nav" role="navigation" aria-label="Основная навигация">
        <div class="nav__logo">Тихая Память</div>
        <button class="nav__toggle" aria-expanded="false" aria-controls="site-menu" aria-label="Открыть меню">
          <span aria-hidden="true"></span><span aria-hidden="true"></span><span aria-hidden="true"></span>
        </button>
        <div id="site-menu" class="nav__menu" role="menu">
          <a role="menuitem" href="#home">Главная</a>
          <a role="menuitem" href="#about">О нас</a>
          <a role="menuitem" href="#packages">Пакеты</a>
          <a role="menuitem" href="#builder">Собрать услуги</a>
          <a role="menuitem" href="#gallery">Галерея</a>
          <a role="menuitem" href="#contact">Контакты</a>
        </div>
      </nav>
    </div>
  </header>

  <main id="main">
    <section id="roadmap" class="container" data-animate aria-labelledby="roadmap-title">
  <h2 id="roadmap-title">Дорожная карта</h2>
  <p class="sub">Пошаговый план: от первого звонка до завершения всех формальностей.</p>

  <div class="timeline" role="list">
    <div class="timeline__line" aria-hidden="true"></div>

    <!-- 1. Первичный контакт -->
    <article class="timeline__item reveal" role="listitem" data-animate>
      <div class="timeline__icon" aria-hidden="true">
        <!-- phone -->
        <svg viewBox="0 0 24 24"><path d="M22 16.92v2a2 2 0 0 1-2.18 2 19.8 19.8 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6A19.8 19.8 0 0 1 2.08 4.18 2 2 0 0 1 4.06 2h2a2 2 0 0 1 2 1.72c.12.86.32 1.7.58 2.5a2 2 0 0 1-.45 2.11L7.1 9.49a16 16 0 0 0 6.4 6.4l1.16-1.1a2 2 0 0 1 2.11-.45c.8.26 1.64.46 2.5.58A2 2 0 0 1 22 16.92z"/></svg>
      </div>
      <div>
        <h3 class="timeline__title">Первичный контакт</h3>
        <p>Заявка 24/7, назначаем координатора, фиксируем исходные данные и контактный номер.</p>
        <p class="timeline__meta">Срок: сразу • Документы: паспорт заявителя (если под рукой)</p>
      </div>
    </article>

    <!-- 2. Документы -->
    <article class="timeline__item reveal" role="listitem" data-animate>
      <div class="timeline__icon" aria-hidden="true">
        <!-- file-text -->
        <svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><path d="M14 2v6h6"/><path d="M16 13H8"/><path d="M16 17H8"/><path d="M10 9H8"/></svg>
      </div>
      <div>
        <h3 class="timeline__title">Оформление документов</h3>
        <p>Помогаем получить мед. свидетельство, справку о смерти, гербовое свидетельство в ЗАГС.</p>
        <p class="timeline__meta">Срок: 1 день • Документы: паспорта, СНИЛС/полис (если есть)</p>
      </div>
    </article>

    <!-- 3. Формат -->
    <article class="timeline__item reveal" role="listitem" data-animate>
      <div class="timeline__icon" aria-hidden="true">
        <!-- calendar -->
        <svg viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="18" rx="2"/><path d="M16 2v4"/><path d="M8 2v4"/><path d="M3 10h18"/></svg>
      </div>
      <div>
        <h3 class="timeline__title">Выбор формата и даты</h3>
        <p>Светская/религиозная церемония, площадка, дата и бюджет. Учитываем пожелания семьи.</p>
        <p class="timeline__meta">Опции: ведущий/священнослужитель, речи, фото для экрана</p>
      </div>
    </article>

    <!-- 4. Подготовка -->
    <article class="timeline__item reveal" role="listitem" data-animate>
      <div class="timeline__icon" aria-hidden="true">
        <!-- heart (забота) -->
        <svg viewBox="0 0 24 24"><path d="M20.8 4.6a5.5 5.5 0 0 0-7.8 0L12 5.6l-1-1a5.5 5.5 0 0 0-7.8 7.8l1 1L12 22l7.8-7.8 1-1a5.5 5.5 0 0 0 0-7.8z"/></svg>
      </div>
      <div>
        <h3 class="timeline__title">Подготовка и атрибутика</h3>
        <p>Хранение, подготовка, подбор гроба/урны, текстиля, венков, таблички. Декор по желанию.</p>
        <p class="timeline__meta">Опции: живые цветы, индивидуальный декор</p>
      </div>
    </article>

    <!-- 5. Логистика -->
    <article class="timeline__item reveal" role="listitem" data-animate>
      <div class="timeline__icon" aria-hidden="true">
        <!-- truck -->
        <svg viewBox="0 0 24 24"><path d="M10 17h4V5H3v12h2"/><path d="M17 17h2l3-5V9h-5"/><circle cx="7.5" cy="17.5" r="2.5"/><circle cx="17.5" cy="17.5" r="2.5"/></svg>
      </div>
      <div>
        <h3 class="timeline__title">Логистика и площадка</h3>
        <p>Бронирование зала, катафалка, транспорта для близких, слоты кладбища/крематория.</p>
        <p class="timeline__meta">Опции: музыка, фото/видео</p>
      </div>
    </article>

    <!-- 6. Церемония -->
    <article class="timeline__item reveal" role="listitem" data-animate>
      <div class="timeline__icon" aria-hidden="true">
        <!-- compass (сценарий/координация) -->
        <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polygon points="16 8 12 14 8 16 10 12 16 8"/></svg>
      </div>
      <div>
        <h3 class="timeline__title">Церемония прощания</h3>
        <p>Сценарий, тайминг, координация носильщиков, порядок выступлений. Спокойный темп.</p>
        <p class="timeline__meta">Опции: ритуалы, памятные символы</p>
      </div>
    </article>

    <!-- 7. Погребение/кремация -->
    <article class="timeline__item reveal" role="listitem" data-animate>
      <div class="timeline__icon" aria-hidden="true">
        <!-- layers (варианты) -->
        <svg viewBox="0 0 24 24"><polygon points="12 2 2 7 12 12 22 7 12 2"/><polyline points="2 12 12 17 22 12"/><polyline points="2 17 12 22 22 17"/></svg>
      </div>
      <div>
        <h3 class="timeline__title">Погребение или кремация</h3>
        <p>Сопровождаем процесс на кладбище или в крематории, соблюдаем регламент и традиции.</p>
        <p class="timeline__meta">Опции: колумбарий, захоронение урны</p>
      </div>
    </article>

    <!-- 8. Завершение -->
    <article class="timeline__item reveal" role="listitem" data-animate>
      <div class="timeline__icon" aria-hidden="true">
        <!-- check-circle -->
        <svg viewBox="0 0 24 24"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
      </div>
      <div>
        <h3 class="timeline__title">Завершение и документы</h3>
        <p>Передаём все документы/вещи, закрываем договор. По запросу — поминальная трапеза.</p>
        <p class="timeline__meta">Срок: в день церемонии/на следующий</p>
      </div>
    </article>

    <!-- 9. После -->
    <article class="timeline__item reveal" role="listitem" data-animate>
      <div class="timeline__icon" aria-hidden="true">
        <!-- star (память) -->
        <svg viewBox="0 0 24 24"><polygon points="12 2 15 9 22 9 17 13 19 21 12 17 5 21 7 13 2 9 9 9 12 2"/></svg>
      </div>
      <div>
        <h3 class="timeline__title">После церемонии</h3>
        <p>Памятник/ограда, уход за могилой, консультации по выплатам, напоминания о датах.</p>
        <p class="timeline__meta">Опции: ежегодный уход, сервис напоминаний</p>
      </div>
    </article>
  </div>
</section>
<section id="roadmap-3" class="container" data-animate aria-labelledby="roadmap3-title">
  <h2 id="roadmap3-title">Как это проходит — кратко</h2>
  <p class="sub">Три шага: от первого обращения до завершения всех формальностей.</p>
  <section id="roadmap" class="container" data-animate aria-labelledby="roadmap-title">
  <h2 id="roadmap-title">Дорожная карта</h2>
  <p class="sub">Пошаговый план: от первого звонка до завершения всех формальностей.</p>

  <div class="timeline" role="list">
    <div class="timeline__line" aria-hidden="true"></div>

    <!-- 1 -->
    <article class="timeline__item reveal" role="listitem" data-animate>
      <div class="timeline__icon" aria-hidden="true">
        <svg viewBox="0 0 24 24"><path d="M22 16.92v2a2 2 0 0 1-2.18 2 19.8 19.8 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6A19.8 19.8 0 0 1 2.08 4.18 2 2 0 0 1 4.06 2h2a2 2 0 0 1 2 1.72c.12.86.32 1.7.58 2.5a2 2 0 0 1-.45 2.11L7.1 9.49a16 16 0 0 0 6.4 6.4l1.16-1.1a2 2 0 0 1 2.11-.45c.8.26 1.64.46 2.5.58A2 2 0 0 1 22 16.92z"/></svg>
      </div>
      <div>
        <h3 class="timeline__title">Первичный контакт</h3>
        <p>Заявка 24/7, координатор, фиксируем исходные данные.</p>
        <p class="timeline__meta">Срок: сразу</p>
      </div>
    </article>

    <!-- 2 -->
    <article class="timeline__item reveal" role="listitem" data-animate>
      <div class="timeline__icon" aria-hidden="true">
        <svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><path d="M14 2v6h6"/><path d="M16 13H8"/><path d="M16 17H8"/><path d="M10 9H8"/></svg>
      </div>
      <div>
        <h3 class="timeline__title">Документы</h3>
        <p>Мед. свидетельство, справка о смерти, гербовое свидетельство (ЗАГС).</p>
        <p class="timeline__meta">Срок: 1 день</p>
      </div>
    </article>

    <!-- 3 -->
    <article class="timeline__item reveal" role="listitem" data-animate>
      <div class="timeline__icon" aria-hidden="true">
        <svg viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="18" rx="2"/><path d="M16 2v4"/><path d="M8 2v4"/><path d="M3 10h18"/></svg>
      </div>
      <div>
        <h3 class="timeline__title">Формат и дата</h3>
        <p>Светская/религиозная церемония, площадка, бюджет.</p>
        <p class="timeline__meta">Опции: ведущий, речи, фото</p>
      </div>
    </article>

    <!-- 4 -->
    <article class="timeline__item reveal" role="listitem" data-animate>
      <div class="timeline__icon" aria-hidden="true">
        <svg viewBox="0 0 24 24"><path d="M20.8 4.6a5.5 5.5 0 0 0-7.8 0L12 5.6l-1-1a5.5 5.5 0 0 0-7.8 7.8l1 1L12 22l7.8-7.8 1-1a5.5 5.5 0 0 0 0-7.8z"/></svg>
      </div>
      <div>
        <h3 class="timeline__title">Подготовка и атрибутика</h3>
        <p>Хранение, подготовка, гроб/урна, текстиль, венки, табличка.</p>
        <p class="timeline__meta">Опции: декор, живые цветы</p>
      </div>
    </article>

    <!-- 5 -->
    <article class="timeline__item reveal" role="listitem" data-animate>
      <div class="timeline__icon" aria-hidden="true">
        <svg viewBox="0 0 24 24"><path d="M10 17h4V5H3v12h2"/><path d="M17 17h2l3-5V9h-5"/><circle cx="7.5" cy="17.5" r="2.5"/><circle cx="17.5" cy="17.5" r="2.5"/></svg>
      </div>
      <div>
        <h3 class="timeline__title">Логистика</h3>
        <p>Зал, катафалк, транспорт для близких, слоты кладбища/крематория.</p>
        <p class="timeline__meta">Опции: музыка, фото/видео</p>
      </div>
    </article>

    <!-- 6 -->
    <article class="timeline__item reveal" role="listitem" data-animate>
      <div class="timeline__icon" aria-hidden="true">
        <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polygon points="16 8 12 14 8 16 10 12 16 8"/></svg>
      </div>
      <div>
        <h3 class="timeline__title">Церемония</h3>
        <p>Сценарий, тайминг, носильщики, порядок выступлений.</p>
        <p class="timeline__meta">Опции: ритуалы, символы</p>
      </div>
    </article>

    <!-- 7 -->
    <article class="timeline__item reveal" role="listitem" data-animate>
      <div class="timeline__icon" aria-hidden="true">
        <svg viewBox="0 0 24 24"><polygon points="12 2 2 7 12 12 22 7 12 2"/><polyline points="2 12 12 17 22 12"/><polyline points="2 17 12 22 22 17"/></svg>
      </div>
      <div>
        <h3 class="timeline__title">Погребение/кремация</h3>
        <p>Сопровождение на кладбище или в крематории, по регламенту.</p>
        <p class="timeline__meta">Опции: колумбарий, урна</p>
      </div>
    </article>

    <!-- 8 -->
    <article class="timeline__item reveal" role="listitem" data-animate>
      <div class="timeline__icon" aria-hidden="true">
        <svg viewBox="0 0 24 24"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
      </div>
      <div>
        <h3 class="timeline__title">Завершение</h3>
        <p>Передаём документы/вещи, закрываем договор, при необходимости — поминки.</p>
        <p class="timeline__meta">Срок: в день церемонии/на следующий</p>
      </div>
    </article>

    <!-- 9 -->
    <article class="timeline__item reveal" role="listitem" data-animate>
      <div class="timeline__icon" aria-hidden="true">
        <svg viewBox="0 0 24 24"><polygon points="12 2 15 9 22 9 17 13 19 21 12 17 5 21 7 13 2 9 9 9 12 2"/></svg>
      </div>
      <div>
        <h3 class="timeline__title">После</h3>
        <p>Памятник/ограда, уход, консультации по выплатам, напоминания о датах.</p>
        <p class="timeline__meta">Опции: ежегодный уход</p>
      </div>
    </article>
  </div>
</section>

  <div class="grid">
    <article class="card">
      <h3>1. Оперативная помощь и документы</h3>
      <ul class="list">
        <li><strong>Мы:</strong> координатор 24/7, оформление мед. и гербовых документов.</li>
        <li><strong>Вы:</strong> базовая информация, паспорта (если есть).</li>
        <li><small>Сроки:</small> сразу / 1 день • <small>Опции:</small> удалённое оформление, курьер.</li>
      </ul>
    </article>
    <article class="card">
      <h3>2. Подготовка и организация прощания</h3>
      <ul class="list">
        <li><strong>Мы:</strong> формат, дата и место; зал, транспорт; подготовка; гроб/урна, текстиль, цветы.</li>
        <li><strong>Вы:</strong> подтверждение формата и пожеланий, личные вещи (по желанию).</li>
        <li><small>Сроки:</small> 1–2 дня • <small>Опции:</small> декор, музыка, фото/видео, ведущий.</li>
      </ul>
    </article>
    <article class="card">
      <h3>3. Церемония и завершение</h3>
      <ul class="list">
        <li><strong>Мы:</strong> сценарий, тайминг, сопровождение на кладбище/в крематории; передача документов.</li>
        <li><strong>Вы:</strong> присутствие, при желании — речи/фото.</li>
        <li><small>После:</small> памятник, уход, консультации по выплатам • <small>Опции:</small> колумбарий, поминки.</li>
      </ul>
    </article>
  </div>
</section>

    <!-- HERO -->
    <section id="home" class="container hero" data-animate>
      <div>
        <h1 class="hero__title">Современный сервис организации церемонии</h1>
        <p class="hero__text">Мы создаём спокойное пространство, где всё организовано точно и без суеты. Агрегатор «Тихая Память» объединяет надёжные бюро и подрядчиков.</p>
        <div class="hero__cta">
          <a href="#builder" class="btn">Собрать услуги</a>
          <a href="#packages" class="btn btn--outline">Посмотреть пакеты</a>
        </div>
      </div>
      <img
        src="https://images.unsplash.com/photo-1600431521340-491eca880813?q=80&w=1200&auto=format&fit=crop"
        srcset="
          https://images.unsplash.com/photo-1600431521340-491eca880813?q=80&w=600&auto=format&fit=crop 600w,
          https://images.unsplash.com/photo-1600431521340-491eca880813?q=80&w=900&auto=format&fit=crop 900w,
          https://images.unsplash.com/photo-1600431521340-491eca880813?q=80&w=1200&auto=format&fit=crop 1200w
        "
        sizes="(max-width: 960px) 100vw, 520px"
        alt="Светлый зал прощания" loading="lazy">
    </section>

    <!-- ABOUT -->
    <section id="about" class="container" data-animate>
      <h2>О нас</h2>
      <p class="sub">Прощание как акт уважения, а не траура.</p>
      <p>Всё — от оформления документов до подбора зала, транспорта и атрибутики — доступно в одном месте. Мы сопровождаем и координируем процесс аккуратно и прозрачно.</p>
    </section>

    <!-- PACKAGES -->
    <section id="packages" class="container" data-animate>
      <h2>Пакеты услуг</h2>
      <a href="#roadmap-3">Как это проходит</a>
      <p class="sub">Три уровня, различающиеся оформлением и деталями церемонии.</p>
      <div class="grid" role="list">
        <article class="card" role="listitem" aria-labelledby="pkg-eco">
          <h3 id="pkg-eco">Эконом</h3>
          <ul class="list">
            <li>Оформление документов</li>
            <li>Катафалк стандартного класса</li>
            <li>Зал прощания 30 мин</li>
            <li>Базовый гроб и текстиль</li>
          </ul>
          <p><strong>от 25 000 ₽</strong></p>
        </article>
        <article class="card" role="listitem" aria-labelledby="pkg-std">
          <h3 id="pkg-std">Стандарт</h3>
          <ul class="list">
            <li>Курьерское оформление</li>
            <li>Транспорт комфорт-класса</li>
            <li>Зал 1 час</li>
            <li>Венки, улучшенный текстиль</li>
          </ul>
          <p><strong>от 45 000 ₽</strong></p>
        </article>
        <article class="card" role="listitem" aria-labelledby="pkg-prem">
          <h3 id="pkg-prem">Премиум</h3>
          <ul class="list">
            <li>Индивидуальный сценарий</li>
            <li>Декор, живая флористика</li>
            <li>Фото/видео сопровождение</li>
            <li>Транспорт бизнес-класса</li>
          </ul>
          <p><strong>от 80 000 ₽</strong></p>
        </article>
      </div>
    </section>

    <!-- BUILDER -->
    <section id="builder" class="container" data-animate aria-labelledby="builder-title">
      <h2 id="builder-title">Соберите услуги сами</h2>
      <p class="sub">В основе — базовый набор. Добавляйте опции и сразу видьте ориентировочную сумму.</p>

      <div class="builder" role="application" aria-describedby="builder-help">
        <div class="builder__panel" aria-label="Ваш набор">
          <h3 style="margin-top:0;color:var(--accent-2)">Ваш набор</h3>
          <div id="selectedList" class="list" aria-live="polite" aria-relevant="additions removals"></div>
          <div class="builder__total">
            <span>Итого</span>
            <span class="builder__sum"><span id="totalPrice">0</span> ₽</span>
          </div>
          <div class="builder__actions" style="margin-top:10px">
            <button class="btn" id="submitBuilder" type="button" aria-label="Отправить заявку с выбранными услугами">Отправить заявку</button>
            <button class="btn btn--outline" id="resetBuilder" type="button" aria-label="Сбросить дополнительные опции">Сбросить опции</button>
          </div>
          <p id="builder-help" class="sub" style="margin-top:8px">Базовые позиции обязательны. Цены ориентировочные.</p>
        </div>

        <div class="builder__panel" aria-label="Доступные опции">
          <h3 style="margin-top:0;color:var(--accent-2)">Добавить опции</h3>
          <div id="availableList" class="list"></div>
        </div>
      </div>
    </section>

    <!-- GALLERY -->
    <section id="gallery" class="container" data-animate>
      <h2>Галерея</h2>
      <p class="sub">Детали, которые создают спокойствие.</p>
      <div class="gallery">
        <figure>
          <img src="https://images.unsplash.com/photo-1617184073933-7cb4062431a1?q=80&w=1200&auto=format&fit=crop" alt="Зал прощания с мягким светом" loading="lazy">
          <figcaption>Зал прощания</figcaption>
        </figure>
        <figure>
          <img src="https://images.unsplash.com/photo-1604937455090-ef56c89f9c03?q=80&w=1200&auto=format&fit=crop" alt="Цветочная композиция на столе" loading="lazy">
          <figcaption>Цветочная композиция</figcaption>
        </figure>
        <figure>
          <img src="https://images.unsplash.com/photo-1579783928621-7a13d66a3a31?q=80&w=1200&auto=format&fit=crop" alt="Светлые свечи и белые цветы" loading="lazy">
          <figcaption>Свет и цветы</figcaption>
        </figure>
        <figure>
          <img src="https://images.unsplash.com/photo-1617196039923-efab2cf39b9b?q=80&w=1200&auto=format&fit=crop" alt="Интерьер ритуального зала" loading="lazy">
          <figcaption>Интерьер</figcaption>
        </figure>
        <figure>
          <img src="https://images.unsplash.com/photo-1599948094083-7a63cf5cfb3c?q=80&w=1200&auto=format&fit=crop" alt="Сдержанная флористика" loading="lazy">
          <figcaption>Флористика</figcaption>
        </figure>
        <figure>
          <img src="https://images.unsplash.com/photo-1620838823307-80be91e1e5d4?q=80&w=1200&auto=format&fit=crop" alt="Свечи и спокойная атмосфера" loading="lazy">
          <figcaption>Спокойная атмосфера</figcaption>
        </figure>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact" class="container" data-animate>
      <h2>Контакты</h2>
      <div class="contact" role="region" aria-label="Контактная информация и форма">
        <div class="card" aria-label="Контактная информация">
          <p><strong>Телефон:</strong> <a id="contactPhone" href="tel:+78000000000">8 800 000-00-00</a></p>
          <p><strong>Email:</strong> <a id="contactEmail" href="mailto:info@tikhayapamyat.ru">info@tikhayapamyat.ru</a></p>
          <p><strong>Адрес:</strong> <span id="contactAddress">Москва, ул. Светлая, д. 10</span></p>
          <div class="map" role="img" aria-label="Карта"></div>
          <p class="sub">По запросу возможен выезд специалиста.</p>
        </div>

        <form class="card" id="leadForm" novalidate>
          <fieldset style="border:none;padding:0;margin:0">
            <legend class="sr-only">Форма обратной связи</legend>
            <label for="name">Имя<input id="name" name="name" type="text" placeholder="Ваше имя" required></label>
            <label for="phone">Телефон<input id="phone" name="phone" type="tel" inputmode="tel" placeholder="+7 ___ ___-__-__" required></label>
            <label for="pkg">Пакет<select id="pkg" name="package">
              <option value="economy">Эконом</option>
              <option value="standard">Стандарт</option>
              <option value="premium">Премиум</option>
            </select></label>
            <label for="msg">Комментарий<textarea id="msg" name="message" placeholder="Кратко опишите запрос"></textarea></label>
            <button class="btn" type="submit" id="submitLead">Отправить заявку</button>
            <p class="sub">Отправляя форму, вы соглашаетесь на обработку персональных данных для связи по вашему запросу.</p>
          </fieldset>
        </form>
      </div>
    </section>
  </main>

  <!-- MOBILE STICKY TOTAL -->
  <div class="sticky-total" aria-live="polite" aria-atomic="true">
    <span class="sticky-total__sum">Итого: <span id="totalPriceSticky">0</span> ₽</span>
    <div style="display:flex;gap:8px">
      <a href="#contact" class="btn btn--outline" id="ctaToForm">Оформить</a>
      <button class="btn" id="resetMobile">Сбросить</button>
    </div>
  </div>

  <footer>© <span id="y"></span> Тихая Память — агрегатор ритуальных услуг</footer>

  <script defer>
  (function(){
    "use strict";

    // Utils
    const $ = (sel, root=document) => root.querySelector(sel);
    const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));
    const fmt = new Intl.NumberFormat('ru-RU');

    // Year
    $('#y').textContent = new Date().getFullYear();

    // Nav toggle
    const toggle = $('.nav__toggle');
    const menu = $('#site-menu');
    if (toggle && menu){
      toggle.addEventListener('click', ()=>{
        const opened = menu.classList.toggle('is-open');
        toggle.setAttribute('aria-expanded', opened ? 'true' : 'false');
      });
      $$('#site-menu a').forEach(a=>a.addEventListener('click', ()=>{
        menu.classList.remove('is-open');
        toggle.setAttribute('aria-expanded','false');
      }));
    }

    // Reveal on scroll
    const io = ('IntersectionObserver' in window)
      ? new IntersectionObserver(entries=>{
          entries.forEach(e=>{
            if(e.isIntersecting){ e.target.classList.add('reveal'); io.unobserve(e.target); }
          });
        },{threshold:.12})
      : null;
    $$('[data-animate]').forEach(el=>{ if(io) io.observe(el); else el.classList.add('reveal'); });

    // ===== Builder State (reactive, vanilla) =====
    const state = {
      base: [
        {id:'docs_base',   name:'Оформление документов (базовый комплект)', price:12000, locked:true},
        {id:'hearse_std',  name:'Катафалк стандартного класса — 1 рейс',   price:8000,  locked:true},
        {id:'hall_30',     name:'Зал прощания до 30 минут',                 price:7000,  locked:true},
        {id:'coffin_basic',name:'Гроб шпон, покрывало',                    price:15000, locked:true}
      ],
      options: [
        {id:'hearse_extra', name:'Дополнительный рейс катафалка', price:5000},
        {id:'minibus',      name:'Микроавтобус для близких',      price:6000},
        {id:'wreath1',      name:'Венок искусственный с лентой',  price:3500},
        {id:'wreath_live',  name:'Композиция из живых цветов',    price:9000},
        {id:'textiles_plus',name:'Текстиль расширенный комплект', price:4000},
        {id:'hall_plus30',  name:'Продление зала ещё на 30 минут',price:4000},
        {id:'music_bg',     name:'Фоновое звукооформление',       price:2000},
        {id:'host_coord',   name:'Координатор/ведущий церемонии', price:8000},
        {id:'photo',        name:'Фото/видео сопровождение',      price:12000},
        {id:'urn_premium',  name:'Урна керамическая/деревянная',  price:6000}
      ],
      selected: new Set()
    };

    const els = {
      selectedList: $('#selectedList'),
      availableList: $('#availableList'),
      total: $('#totalPrice'),
      totalSticky: $('#totalPriceSticky'),
      resetBtn: $('#resetBuilder'),
      submitBtn: $('#submitBuilder'),
      resetMobile: $('#resetMobile'),
      ctaToForm: $('#ctaToForm'),
      msg: $('#msg')
    };

    function calcTotal(){
      const base = state.base.reduce((s,i)=>s+i.price,0);
      const opt  = state.options.filter(o=>state.selected.has(o.id)).reduce((s,i)=>s+i.price,0);
      return base + opt;
    }

    function renderSelected(){
      const box = els.selectedList;
      box.textContent = '';
      [...state.base, ...state.options.filter(o=>state.selected.has(o.id))].forEach(item=>{
        const row = document.createElement('div');
        row.className = 'svc' + (item.locked ? ' svc--lock' : '');
        const meta = document.createElement('div');
        const name = document.createElement('span');
        name.textContent = item.name;
        const price = document.createElement('small');
        price.textContent = fmt.format(item.price) + ' ₽';
        meta.appendChild(name); meta.appendChild(document.createTextNode(' ')); meta.appendChild(price);
        const btn = document.createElement('button');
        btn.className = 'svc__btn';
        if(item.locked){
          btn.textContent = 'Включено';
          btn.disabled = true;
          btn.setAttribute('aria-disabled','true');
          btn.style.borderColor = 'var(--border)'; btn.style.color = '#777';
        } else {
          btn.textContent = 'Убрать';
          btn.setAttribute('aria-label','Убрать опцию: ' + item.name);
          btn.addEventListener('click', ()=>{
            state.selected.delete(item.id);
            renderAll();
          }, {once:true});
        }
        row.appendChild(meta); row.appendChild(btn);
        box.appendChild(row);
      });
    }

    function renderAvailable(){
      const box = els.availableList;
      box.textContent = '';
      state.options.forEach(opt=>{
        if(state.selected.has(opt.id)) return;
        const row = document.createElement('div');
        row.className = 'svc';
        const meta = document.createElement('div');
        const name = document.createElement('span'); name.textContent = opt.name;
        const price = document.createElement('small'); price.textContent = fmt.format(opt.price)+' ₽';
        meta.appendChild(name); meta.appendChild(document.createTextNode(' ')); meta.appendChild(price);
        const btn = document.createElement('button');
        btn.className = 'svc__btn';
        btn.textContent = 'Добавить';
        btn.setAttribute('data-add', opt.id);
        btn.setAttribute('aria-label','Добавить опцию: ' + opt.name);
        btn.addEventListener('click', ()=>{
          state.selected.add(opt.id);
          renderAll();
        }, {once:true});
        row.appendChild(meta); row.appendChild(btn);
        box.appendChild(row);
      });
    }

    function renderTotal(){
      const sum = calcTotal();
      els.total.textContent = fmt.format(sum);
      els.totalSticky.textContent = fmt.format(sum);
    }

    function renderAll(){
      renderSelected();
      renderAvailable();
      renderTotal();
    }

    // Init
    renderAll();

    // Actions
    els.resetBtn.addEventListener('click', ()=>{
      state.selected.clear();
      renderAll();
    });
    els.resetMobile.addEventListener('click', ()=>{
      state.selected.clear();
      renderAll();
    });
    els.submitBtn.addEventListener('click', ()=>{
      if (!els.msg) return;
      const base = state.base.map(i=>'• '+i.name+' — '+fmt.format(i.price)+' ₽').join('\n');
      const opt  = state.options.filter(o=>state.selected.has(o.id)).map(i=>'• '+i.name+' — '+fmt.format(i.price)+' ₽').join('\n');
      els.msg.value = 'Прошу рассчитать стоимость по конструктору.\n\nБазовый набор:\n'+base+'\n\nОпции:\n'+(opt || 'без доп. опций')+'\n\nИтого: '+fmt.format(calcTotal())+' ₽';
      location.hash = '#contact';
      els.msg.focus();
    });
    els.ctaToForm.addEventListener('click', ()=>{
      // переносит состав и сумму в форму
      if (!els.msg) return;
      const base = state.base.map(i=>'• '+i.name+' — '+fmt.format(i.price)+' ₽').join('\n');
      const opt  = state.options.filter(o=>state.selected.has(o.id)).map(i=>'• '+i.name+' — '+fmt.format(i.price)+' ₽').join('\n');
      els.msg.value = 'Выбранный состав:\n\n'+base+'\n\nОпции:\n'+(opt || 'без доп. опций')+'\n\nИтого: '+fmt.format(calcTotal())+' ₽';
    });

    // Lead form (progressive enhancement)
    const leadForm = $('#leadForm');
    const submitLead = $('#submitLead');
    const phoneRe = /^\+?\s?7[\s-]?\(?\d{3}\)?[\s-]?\d{3}[\s-]?\d{2}[\s-]?\d{2}$/;
    leadForm.addEventListener('submit', async (e)=>{
      e.preventDefault();
      const fd = new FormData(leadForm);
      const name = String(fd.get('name')||'').trim();
      const phone = String(fd.get('phone')||'').trim();
      if(!name || !phoneRe.test(phone)){
        alert('Проверьте имя и телефон. Пример: +7 900 000-00-00');
        return;
      }
      submitLead.disabled = true;
      submitLead.textContent = 'Отправка...';

      // TODO: замените на реальный endpoint (Formspree/Telegram/serverless)
      // Демо-режим:
      await new Promise(r=>setTimeout(r, 500));
      alert('Заявка отправлена (демо). Подключите реальную отправку в app.js.');

      submitLead.disabled = false;
      submitLead.textContent = 'Отправить заявку';
      leadForm.reset();
    });

  })();
    // === Minimal Analytics ===
window.dataLayer = window.dataLayer || [];
function track(event, payload = {}) {
  const data = { event, ts: Date.now(), ...payload };
  window.dataLayer.push(data);
  if (window.location.hostname.includes('localhost')) console.log('[track]', data);
}

// Меню и CTA
document.querySelectorAll('a[href^="#"]').forEach(a=>{
  a.addEventListener('click', ()=> track('nav_click', { target: a.getAttribute('href') }));
});

// Пакеты (если есть кнопки — трекаем; иначе трекаем заголовки)
document.querySelectorAll('#packages .card h3').forEach(h=>{
  h.addEventListener('click', ()=> track('pkg_view', { pkg: h.textContent.trim() }));
});

// Конструктор: добавление/удаление
document.addEventListener('click', (e)=>{
  const btn = e.target.closest('.svc__btn');
  if(!btn) return;
  const row = btn.closest('.svc');
  const name = row?.querySelector('span')?.textContent?.trim();
  track(btn.textContent.includes('Добавить') ? 'builder_add' : 'builder_remove', { name });
});

// Sticky-итог (оформление)
const ctaToForm = document.getElementById('ctaToForm');
if (ctaToForm) ctaToForm.addEventListener('click', ()=> track('builder_cta_form', { sum: document.getElementById('totalPriceSticky')?.textContent }));

// Отправка формы
const leadFormEl = document.getElementById('leadForm');
if (leadFormEl) {
  leadFormEl.addEventListener('submit', ()=> track('lead_submit'));
}

  </script>
</body>
</html>


